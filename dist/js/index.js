var app=angular.module("app",["ui.router"]);angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/home",views:{home:{templateUrl:"../views/home_tpl.html",controller:"HomeController"},author:{template:"<h2>author</h2>"},content:{template:"<h2>content</h2>"},my:{template:"<h2>my</h2>"}}}).state("home.list",{url:"/list",templateUrl:"../views/list_tpl.html"}).state("home.detail",{url:"/detail/:id",template:"<details></details>",controller:"DetailController"}),e.otherwise("home/list")}]),angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","http://localhost/**"])}]),angular.module("app").controller("AppController",["$scope","$window","$location",function(t,e,o){t.title="首页",t.id=0,t.$on("tab_notifice",function(e,o){var l=["首页","作者","栏目","我"];t.id=o.id,t.title=l[o.id]}),t.back=function(){e.history.back()},t.location=o,t.$watch("location.url()",function(e,o){var l=e.toString().indexOf("detail");console.log(l),t.hidde=-1!=l})}]),angular.module("app").controller("DetailController",["$scope","$stateParams",function(t,e){var o=e.id;t.item=t.homeData.posts[o],console.log(t.item)}]),angular.module("app").controller("HomeController",["$scope","$http",function(t,e){t.title="首页1",e({url:"http://localhost/home.php",method:"jsonp"}).then(function(e){t.homeData=e.data,console.log(t.homeData)}).catch(function(t){console.log(t)})}]),angular.module("app").controller("tabController",["$scope",function(t){t.tabChange=function(e){t.$emit("tab_notifice",{id:e})}}]),angular.module("app").directive("details",function(){return{restrict:"EA",template:'<div class="home_detail"><div ui-view></div></div>',replace:!0,link:function(t,e,o){e.html(t.item.content)}}}),angular.module("app").directive("navs",function(){return{restrict:"EA",templateUrl:"../views/nav_tpl.html",controller:["$scope",function(t){}]}}),angular.module("app").directive("tabbar",function(){return{restrict:"EA",templateUrl:"../views/tabbar_tpl.html",controller:"tabController",replace:!0,link:function(t,e,o){t.$watch("id",function(o,l){for(var a=e.children()[0].children,n=0;n<a.length;n++)a[n].className="";a[t.id].className="active"})}}});